(this["webpackJsonpipfs-webui"]=this["webpackJsonpipfs-webui"]||[]).push([[16],{1018:function(e,t,a){"use strict";var n=a(52),l=a(53),r=a(72),c=a(70),s=a(71),o=a(0),i=a.n(o),d=a(36),m=a(143);t.a=function(e){var t=function(t){function a(){var e,t;Object(n.a)(this,a);for(var l=arguments.length,s=new Array(l),o=0;o<l;o++)s[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(s)))).handleJoyrideCallback=function(e){var a=t.props.doDisableTours,n=e.action,l=e.status;("close"===n||[m.a.FINISHED].includes(l))&&a()},t}return Object(s.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement(e,Object.assign({handleJoyrideCallback:this.handleJoyrideCallback},this.props))}}]),a}(i.a.Component);return Object(d.b)("doDisableTours",t)}},1112:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=function(e){e.title;var t=e.children;return l.a.createElement("div",{className:"mw6 br1 overflow-hidden"},l.a.createElement("div",{className:"f7 mb0 sans-serif ttu tracked charcoal pv1 pl2 bg-black-20"},"Shell"),l.a.createElement("div",{className:"bg-black-70 snow pa2 f7 lh-copy monospace nowrap overflow-x-auto"},t))}},1796:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(144),c=a(15),s=a(36),o=a(143),i=a(1042),d=a.n(i),m=Object(c.c)("status")((function(e){var t=e.peersCount,a=e.repoSize,n=d()(a||0,{round:1});return l.a.createElement("header",null,l.a.createElement("h1",{className:"montserrat fw2 f3 charcoal ma0 pt0 pb2"},l.a.createElement(c.b,{i18nKey:"StatusConnected.header1"},"Connected to IPFS")),l.a.createElement("p",{className:"montserrat fw4 f5 ma0 pb3 lh-copy"},l.a.createElement("span",{className:"db dib-ns"},l.a.createElement(c.b,{i18nKey:"StatusConnected.paragraph1",defaults:"Hosting <0>{repoSize} of files</0>",values:{repoSize:n},components:[l.a.createElement("a",{className:"link blue",href:"#/files"},"?")]})),l.a.createElement("span",{className:"dn di-ns gray"}," \u2014 "),l.a.createElement("span",{className:"db mt1 mt0-ns dib-ns"},l.a.createElement(c.b,{i18nKey:"StatusConnected.paragraph2",defaults:"Discovered <0>{peersCount} peers</0>",values:{peersCount:t.toString()},components:[l.a.createElement("a",{className:"link blue",href:"#/peers"},"?")]}))))})),u=Object(s.b)("selectPeersCount","selectRepoSize",m),p=a(1112),b=a(142),h=Object(c.c)("status")((function(e){var t=e.t;return l.a.createElement(b.a,{className:"mt3 pa3"},l.a.createElement("h2",{className:"ttu yellow tracked f6 fw4 aqua mt0 mb4"},t("bandwidthStats")),l.a.createElement("p",{className:"mw6 mr2 lh-copy charcoal f6"},l.a.createElement(c.b,{i18nKey:"bandwidthStatsDisabled"},"You have the bandwidth metrics disabled. You can enable them by typing the command bellow or changing the key ",l.a.createElement("code",null,"Swarm.DisableBandwidthMetrics")," to ",l.a.createElement("code",null,"false")," on",l.a.createElement("a",{className:"link blue",href:"#/settings"},"Settings"),". Then, you need to restart the IPFS daemon to apply the changes.")),l.a.createElement(p.a,null,l.a.createElement("code",{className:"db"},"$ ipfs config --json Swarm.DisableBandwidthMetrics false")))})),f=Object(c.c)("status")((function(){return l.a.createElement("header",null,l.a.createElement("h1",{className:"montserrat fw2 f3 yellow ma0 lh-title"},l.a.createElement(c.b,{i18nKey:"StatusNotConnected.header1"},"Failed to connect to the API")),l.a.createElement(c.b,{i18nKey:"StatusNotConnected.paragraph1"},l.a.createElement("p",{className:"mv3 lh-copy sans-serif"},"Start an IPFS daemon in a terminal:")),l.a.createElement(p.a,null,l.a.createElement("code",{className:"db"},"$ ipfs daemon"),l.a.createElement("code",{className:"db"},"Initializing daemon..."),l.a.createElement("code",{className:"db"},"API server listening on /ip4/127.0.0.1/tcp/5001")),l.a.createElement(c.b,{i18nKey:"StatusNotConnected.paragraph2"},l.a.createElement("p",{className:"mt3 lh-copy sans-serif"},"For more info on how to get started with IPFS you can ",l.a.createElement("a",{className:"link blue",href:"https://docs.ipfs.io/introduction/usage/"},"read the guide"),".")))})),E=a(52),v=a(53),y=a(72),g=a(70),w=a(71),N={"go-ipfs":{url:"https://github.com/ipfs/go-ipfs"},"js-ipfs":{url:"https://github.com/ipfs/js-ipfs"}},j=function(e){var t=e.agent,a=e.version;if(!a)return"";if("js-ipfs"===t){var n="".concat(N["js-ipfs"].url,"/releases/tag/v").concat(a);return l.a.createElement("a",{href:n,className:"link blue ml2",target:"_blank",rel:"noopener noreferrer"},"v",a)}return" v".concat(a)},k=function(e){var t=e.agentVersion;if(!t)return l.a.createElement("span",null,"Unknown");var a=t.split("/").filter((function(e){return!!e})),n=a[0],r=function(e){var t=N[e];return t?t.url:null}(n),c=a[1];return r?l.a.createElement("span",null,l.a.createElement("a",{href:r,className:"link blue",target:"_blank",rel:"noopener noreferrer"},n),l.a.createElement(j,{agent:n,version:c})):l.a.createElement("span",null,n,l.a.createElement(j,{agent:n,version:c}))},O=a(37),S=function(e){var t=e.term,a=e.desc,n=e.advanced,r=e.termWidth;return l.a.createElement("div",{className:"dt dt--fixed pt2 mw9 lh-copy"},l.a.createElement(C,{width:r},t),l.a.createElement(x,{advanced:n},a))},C=function(e){var t=e.children,a=e.width,n=void 0===a?100:a;return l.a.createElement("dt",{className:"db ma0 pb1 pb0-ns dtc-ns silver tracked ttu f7",style:{width:n}},t)},x=function(e){var t=e.children,a=e.advanced;return l.a.createElement("dd",{className:"db dtc-ns ma0 charcoal monospace ".concat(a?"word-wrap pa2 f7 bg-white-80":"truncate f7 f6-ns")},t)},I=function(e){var t=e.children,a=e.className,n=void 0===a?"ma0":a,r=Object(O.a)(e,["children","className"]);return l.a.createElement("dl",Object.assign({className:n},r),t)},A=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"getField",value:function(e,t,a){return e&&e[t]?a?a(e[t]):e[t]:""}},{key:"getVersion",value:function(e){var t=this.getField(e,"agentVersion");return t?t.split("/").join(" "):""}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.identity;return l.a.createElement(I,null,l.a.createElement(S,{term:t("peerId"),desc:this.getField(a,"id")}),l.a.createElement(S,{term:t("version"),desc:l.a.createElement(k,{agentVersion:this.getField(a,"agentVersion")})}))}}]),t}(l.a.Component),D=Object(s.b)("selectIdentity",Object(c.c)("status")(A)),F=a(95),P=a(120),T=a.n(P),L=function(e){var t=e.value;if(!t)return null;var a=T()(t).protoNames().concat(["ipfs","p2p"]),n=t.split("/");return l.a.createElement("div",{className:"charcoal-muted monospace"},n.map((function(e,t){return l.a.createElement("span",{key:t},l.a.createElement("span",{className:a.includes(e)?"force-select":"force-select charcoal"},e),t<n.length-1?"/":"")})))},B=a(399),M={"js-ipfs-api":{url:"https://github.com/ipfs/js-ipfs-api"},"js-ipfs":{url:"https://github.com/ipfs/js-ipfs"},"window.ipfs":{url:"https://github.com/ipfs-shipyard/ipfs-companion"},"ipfs-companion":{url:"https://github.com/ipfs-shipyard/ipfs-companion"}},_=function(e){var t=e.name,a=function(e){return M[e]||{name:e}}(t);return a.url?l.a.createElement("a",{href:a.url,className:"link blue",target:"_blank",rel:"noopener noreferrer"},a.name||t):l.a.createElement("span",null,a.name||t)};function K(e){try{return T()(e),!0}catch(t){return!1}}var U=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"getField",value:function(e,t,a){return e&&e[t]?a?a(e[t]):e[t]:""}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.identity,n=e.ipfsProvider,r=e.ipfsApiAddress,c=e.gatewayUrl,s=null,o=null;return a&&(s=this.getField(a,"publicKey"),o=Object(F.a)(new Set(a.addresses)).sort().map((function(e){return l.a.createElement(L,{key:e,value:e})}))),l.a.createElement(B.a,{className:"mt3 f6",summaryText:t("advanced")},l.a.createElement(I,{className:"mt3"},l.a.createElement(S,{advanced:!0,term:t("gateway"),desc:c}),"js-ipfs-api"===n?l.a.createElement(S,{advanced:!0,term:t("api"),desc:K(r)?l.a.createElement(L,{value:r}):r}):l.a.createElement(S,{advanced:!0,term:t("api"),desc:l.a.createElement(_,{name:n})}),l.a.createElement(S,{advanced:!0,term:t("addresses"),desc:o}),l.a.createElement(S,{advanced:!0,term:t("publicKey"),desc:s})))}}]),t}(l.a.Component),Y=Object(s.b)("selectIdentity","selectIpfsProvider","selectIpfsApiAddress","selectGatewayUrl",Object(c.c)("status")(U)),J=a(5),R=a(34),z=a.n(R),V=a(1283),H=function(e){var t=e.children,a=Object(O.a)(e,["children"]);return l.a.createElement("h2",Object.assign({className:"ttu tracked f6 fw4 aqua mt0 mb4"},a),t)},G=d.a.partial({round:1,exponent:2,bits:!0}),W=d.a.partial({round:0,bits:!0,output:"array"}),q={defaultFontFamily:"'Inter UI', system-ui, sans-serif",responsive:!0,tooltips:{mode:"x",position:"nearest",enabled:!1},hover:{mode:"index"},scales:{xAxes:[{type:"time",time:{minUnit:"second"}}],yAxes:[{stacked:!0,ticks:{callback:function(e){return G(e)+"/s"},suggestedMax:2e5,maxTicksLimit:5}}]},legend:{display:!0,position:"bottom"}},$=function(e){var t=e.t,a=e.bw,n=e.show,r=e.pos;return n?l.a.createElement("div",{className:"sans-serif absolute bg-white pa2 br3",style:{top:"".concat(r.top+window.scrollY,"px"),left:"".concat(r.left,"px"),transform:"translateY(calc(-100% - 20px))",filter:"drop-shadow(2px 2px 8px rgba(0, 0, 0, 0.2))"}},l.a.createElement("div",{className:"absolute",style:{bottom:"-14px",left:"0",width:"0",height:"0",borderTop:"20px solid white",borderRight:"20px solid transparent"}}),l.a.createElement("div",{className:"dt"},l.a.createElement("div",{className:"dt-row"},l.a.createElement("span",{className:"dtc f7 charcoal tr"},t("in").toLowerCase(),":"),l.a.createElement("span",{className:"f4 ml1 charcoal-muted"},a.in[0]),l.a.createElement("span",{className:"f7 charcoal-muted"},a.in[1],"/s")),l.a.createElement("div",{className:"dt-row"},l.a.createElement("span",{className:"dtc f7 charcoal tr"},t("out").toLowerCase(),":"),l.a.createElement("span",{className:"f4 ml1 charcoal-muted"},a.out[0]),l.a.createElement("span",{className:"f7 charcoal-muted"},a.out[1],"/s")))):null},X=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).getTooltip=function(e){var t=document.getElementById("node_bw_chart");return t||((t=document.createElement("div")).id="node_bw_chart",document.body.appendChild(t)),z.a.render(l.a.createElement($,{t:e,show:!1}),t),t},a.data=function(){var e=a.props,t=e.t,n=e.nodeBandwidthChartData;return function(e){var a=e.getContext("2d"),l=a.createLinearGradient(e.width/2,0,e.width/2,e.height);l.addColorStop(0,"#70c5cd"),l.addColorStop(1,"#c6f1f3");var r=a.createLinearGradient(e.width/2,0,e.width/2,e.height/2);return r.addColorStop(0,"#f19237"),r.addColorStop(1,"#f9d1a6"),{datasets:[{label:t("in"),data:n.in,borderColor:l,backgroundColor:l,pointRadius:2,cubicInterpolationMode:"monotone"},{label:t("out"),data:n.out,borderColor:r,backgroundColor:r,pointRadius:2,cubicInterpolationMode:"monotone"}]}}},a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.tooltip=document.createElement("div"),this.tooltip.id="node_bw_chart",document.body.appendChild(this.tooltip)}},{key:"componentDidUpdate",value:function(){z.a.render(l.a.createElement($,{show:!1}),this.tooltip)}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.animatedPoints,n=e.nodeBandwidthChartData;if(0===n.in.length)return null;var r=this.tooltip,c=Object(J.a)({},q,{tooltips:Object(J.a)({},q.tooltips,{custom:function(e){var a={show:!0};if(0===e.opacity)a.show=!1;else{a.bw={in:W(e.dataPoints[0].yLabel),out:W(e.dataPoints[1].yLabel)};var n=this._chart.canvas.getBoundingClientRect();a.pos={left:n.left+e.caretX,top:n.top+e.caretY}}z.a.render(l.a.createElement($,Object.assign({t:t},a)),r)}}),animation:{duration:n.in.length<=a?1e3:0}});return l.a.createElement("div",null,l.a.createElement(H,null,t("bandwidthOverTime")),l.a.createElement(V.b,{data:this.data(),options:c}))}}]),t}(l.a.Component);X.defaultProps={animatedPoints:500};var Q=Object(s.b)("selectNodeBandwidthChartData",Object(c.c)("status")(X)),Z=function(e){return 2*e*Math.PI},ee=function(e){var t,a=e.total,n=void 0===a?100:a,r=e.title,c=e.filled,s=void 0===c?0:c,o=e.noSpeed,i=void 0!==o&&o,m=e.color,u=void 0===m?"#FF6384":m,p={options:{legend:{display:!1},tooltips:{enabled:!1},maintainAspectRatio:!1,cutoutPercentage:80,rotation:(t=.7,(1-t+.5)*Math.PI),circumference:Z(.7)},data:{labels:["Speed","Nothing"],datasets:[{data:[s,s>n?0:n-s],backgroundColor:[u,"#DEDEDE"],hoverBackgroundColor:[u,"#DEDEDE"],borderWidth:[0,0]}]}},b=d()(s,{output:"array",round:0,bits:!i});return l.a.createElement("div",{className:"relative tc center overflow-hidden",style:{width:"11em",height:"9em"}},l.a.createElement("div",{style:{width:"11em",height:"11em",marginTop:"-1em"}},l.a.createElement(V.a,p)),l.a.createElement("div",{className:"absolute",style:{top:"60%",left:"50%",transform:"translate(-50%, -50%)"}},l.a.createElement("span",{className:"f3"},b[0]),l.a.createElement("span",{className:"ml1 f7"},b[1],i?"":"/s"),l.a.createElement("span",{className:"db f7 fw5"},r)))},te=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={downSpeed:{filled:0,total:125e3},upSpeed:{filled:0,total:125e3}},a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.nodeBandwidth,n=a?parseInt(a.rateIn.toFixed(0),10):0,l=a?parseInt(a.rateOut.toFixed(0),10):0;n===t.downSpeed.filled&&l===t.upSpeed.filled||this.setState({downSpeed:{filled:n,total:Math.max(n,t.downSpeed.total)},upSpeed:{filled:l,total:Math.max(l,t.upSpeed.total)}})}},{key:"render",value:function(){var e=this.props.t,t=this.state,a=t.downSpeed,n=t.upSpeed;return l.a.createElement("div",null,l.a.createElement(H,null,e("networkTraffic")),l.a.createElement("div",{className:"flex flex-column justify-between",style:{maxWidth:400}},l.a.createElement("div",{className:"mh2 mv3 mt0-l"},l.a.createElement(ee,Object.assign({title:e("upSpeed"),color:"#f39021"},n))),l.a.createElement("div",{className:"mh2 mt3 mt0-l"},l.a.createElement(ee,Object.assign({title:e("downSpeed"),color:"#69c4cd"},a)))))}}]),t}(l.a.Component),ae=Object(s.b)("selectNodeBandwidth",Object(c.c)("status")(te)),ne=a(173),le=function(e){var t=e.className,a=e.label,n=e.yesLabel,r=e.noLabel,c=e.onYes,s=e.onNo,o=e.detailsLabel,i=void 0===o?"More info...":o,d=e.detailsLink;return l.a.createElement("div",{className:"f6 pv3 pv2-ns ph3 tc bg-snow charcoal ".concat(t)},l.a.createElement("span",{className:"fw4 lh-copy dib mb2"},a,d&&l.a.createElement("a",{href:d,className:"dib focus-outline link blue ml2"},i)),l.a.createElement("span",{className:"dib"},l.a.createElement(ne.a,{className:"ml3 mv1",bg:"bg-green",onClick:c},n),l.a.createElement(ne.a,{className:"ml3 mv1",color:"charcoal",bg:"bg-snow-muted",onClick:s},r)))},re=a(180),ce=a(253),se=a(1018);t.default=Object(s.b)("selectIpfsConnected","selectNodeBandwidthEnabled","selectAnalyticsAskToEnable","selectToursEnabled","doEnableAnalytics","doDisableAnalytics",Object(se.a)(Object(c.c)("status")((function(e){var t=e.t,a=e.ipfsConnected,n=e.analyticsAskToEnable,s=e.doEnableAnalytics,i=e.doDisableAnalytics,d=e.toursEnabled,m=e.handleJoyrideCallback,p=e.nodeBandwidthEnabled;return l.a.createElement("div",{"data-id":"StatusPage",className:"mw9 center"},l.a.createElement(r.Helmet,null,l.a.createElement("title",null,t("title")," - IPFS")),l.a.createElement(b.a,{className:"pa3 joyride-status-node",style:{minHeight:0}},l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"flex-auto"},a?l.a.createElement("div",null,l.a.createElement(u,null),l.a.createElement(D,null),l.a.createElement("div",{className:"pt2"},l.a.createElement(Y,null))):l.a.createElement(f,null)))),a&&n&&l.a.createElement(le,{className:"mt3",label:t("AskToEnable.label"),yesLabel:t("AskToEnable.yesLabel"),noLabel:t("AskToEnable.noLabel"),detailsLabel:t("AskToEnable.detailsLabel"),detailsLink:"#/settings/analytics",onYes:s,onNo:i}),l.a.createElement("div",{style:{opacity:a?1:.4}},p?l.a.createElement(b.a,{className:"mt3 pa3"},l.a.createElement("div",{className:"flex flex-column flex-row-l joyride-status-charts"},l.a.createElement("div",{className:"pr0 pr2-l flex-auto"},l.a.createElement(Q,null)),l.a.createElement("div",{className:"dn db-l pl3 pr5"},l.a.createElement(ae,null)))):l.a.createElement(h,null),l.a.createElement(o.b,{run:d,steps:re.e.getSteps({t:t,Trans:c.b}),styles:re.e.styles,callback:m,continuous:!0,scrollToFirstStep:!0,locale:Object(ce.a)(t),showProgress:!0})))}))))}}]);
//# sourceMappingURL=16.c078d81c.chunk.js.map